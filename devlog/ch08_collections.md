# ç¬¬8ç« : ä¸€èˆ¬çš„ãªã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³

## ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¨ã¯

**æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾¿åˆ©ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ï¼**

| Rust | C++ | ç”¨é€” |
|------|-----|------|
| `Vec<T>` | `std::vector<T>` | å¯å¤‰é•·é…åˆ— |
| `String` | `std::string` | æ–‡å­—åˆ— |
| `HashMap<K, V>` | `std::unordered_map<K, V>` | ã‚­ãƒ¼ã¨å€¤ |

---

## Vecï¼ˆãƒ™ã‚¯ã‚¿ï¼‰

### ä½œæˆ

```rust
// ç©ºã®ãƒ™ã‚¯ã‚¿ï¼ˆå‹ã‚’æ˜è¨˜ï¼ï¼‰
let v: Vec<i32> = Vec::new();

// vec! ãƒã‚¯ãƒ­ï¼ˆå‹ã¯æ¨è«–ã•ã‚Œã‚‹ï¼‰
let v = vec![1, 2, 3];
```

### è¦ç´ ã®è¿½åŠ 

```rust
let mut v = Vec::new();
v.push(1);
v.push(2);
```

### è¦ç´ ã®å–å¾—

```rust
let v = vec![1, 2, 3, 4, 5];

// æ·»å­—ï¼ˆç¯„å›²å¤–ã§ãƒ‘ãƒ‹ãƒƒã‚¯ï¼‰
let third = &v[2];

// getï¼ˆOption ã‚’è¿”ã™ã€å®‰å…¨ï¼‰
match v.get(2) {
    Some(x) => println!("{}", x),
    None => println!("ãªã„"),
}
```

---

## å€Ÿç”¨è¦å‰‡ã¨ Vec

### âŒ ãƒ€ãƒ¡ãªä¾‹

```rust
let mut v = vec![1, 2, 3];
let first = &v[0];  // ä¸å¤‰å€Ÿç”¨
v.push(6);          // âŒ å¯å¤‰å€Ÿç”¨ã§ããªã„ï¼
println!("{}", first);
```

**ãªãœï¼Ÿpush ã§å†å‰²ã‚Šå½“ã¦ãŒèµ·ããŸã‚‰ first ãŒç„¡åŠ¹ã«ãªã‚‹ã‹ã‚‚ï¼**

### âœ… è§£æ±ºç­–

```rust
let mut v = vec![1, 2, 3];
let first = &v[0];
println!("{}", first);  // ä½¿ã„çµ‚ã‚ã‚‹
v.push(6);  // âœ… ã‚‚ã† first ã¯ä½¿ã£ã¦ãªã„
```

---

## NLLï¼ˆNon-Lexical Lifetimesï¼‰

**å€Ÿç”¨ã¯ã€Œæœ€å¾Œã«ä½¿ã£ãŸå ´æ‰€ã€ã§çµ‚ã‚ã‚‹ï¼**

```rust
let first = &v[0];  // å€Ÿç”¨é–‹å§‹
println!("{}", first);  // â† æœ€å¾Œã«ä½¿ã† = å€Ÿç”¨çµ‚äº†
v.push(6);  // âœ… å€Ÿç”¨ã¯çµ‚ã‚ã£ã¦ã‚‹
```

**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¯ã€Œã“ã®å¾Œä½¿ã†ï¼Ÿã€ã‚’è¦‹ã¦ã‚‹ï¼**

---

## for ãƒ«ãƒ¼ãƒ—

### ä¸å¤‰å‚ç…§

```rust
let v = vec![1, 2, 3];
for i in &v {
    println!("{}", i);
}
```

### å¯å¤‰å‚ç…§

```rust
let mut v = vec![100, 32, 57];
for i in &mut v {
    *i += 50;  // * ã§ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
}
// v = [150, 82, 107]
```

**`*i` = å‚ç…§å…ˆã®å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ï¼ˆC++ ã¨åŒã˜ï¼‰**

---

## Enum ã§è¤‡æ•°å‹ã‚’å…¥ã‚Œã‚‹

```rust
enum Cell {
    Int(i32),
    Float(f64),
    Text(String),
}

let row = vec![
    Cell::Int(3),
    Cell::Text(String::from("blue")),
    Cell::Float(10.12),
];
```

**Vec ã¯1å‹ã ã‘ã©ã€Enum ãªã‚‰è¤‡æ•°ç¨®é¡OKï¼**

---

## ğŸ’¡ å­¦ã‚“ã ã“ã¨ï¼ˆVecï¼‰

- `Vec::new()` ã¯å‹ã‚’æ˜è¨˜ã€`vec![]` ã¯æ¨è«–
- `push()` ã§è¿½åŠ ã€`get()` ã¯å®‰å…¨ï¼ˆOptionï¼‰
- å€Ÿç”¨ä¸­ã¯ push ã§ããªã„ï¼ˆå†å‰²ã‚Šå½“ã¦ã®å±é™ºï¼‰
- NLL: ã€Œæœ€å¾Œã«ä½¿ã£ãŸå ´æ‰€ã€ã§å€Ÿç”¨çµ‚äº†
- `*i` ã§ãƒ‡ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- Enum ã§è¤‡æ•°å‹ã‚’å…¥ã‚Œã‚‰ã‚Œã‚‹
